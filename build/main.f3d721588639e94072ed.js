!function(n){var t={};function e(c){if(t[c])return t[c].exports;var l=t[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=n,e.c=t,e.d=function(n,t,c){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:c})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var l in n)e.d(c,l,function(t){return n[t]}.bind(null,l));return c},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdHlsZXMvbWFpbi5zYXNzP2MyNGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/app.js\nconst DEBUG = true\r\nconst log = (...args) => DEBUG && console.info.apply(console, args)\r\n\r\nconst ButtonCheck   = document.getElementById('check-button')\r\nconst TextboxHeight = document.getElementById('textbox-height')\r\nconst TextboxWeight = document.getElementById('textbox-weight')\r\nconst Title         = document.getElementById('h1-title')\r\nconst ImagePokemon  = document.getElementById('img-pokemon')\r\nconst Spinner       = document.getElementById('spinner')\r\n\r\nconst API_URL = 'https://pokeapi.co/api/v2/'\r\n\r\n/**\r\n * @todo \r\n * Finish findPokemon implementation by selecting the best match\r\n * Fetch sprite from some api and load image in ImagePokemon\r\n * Implement caching of pokemon list\r\n * (optional) add accuracy slidebar\r\n */\r\n\r\n\r\n\r\n// Just sorts by closest matching entry. Entry with the smaller difference from the input bubbles up\r\nconst sortByDifference = (array, height, weight) => {\r\n  array.sort((pokemonA, pokemonB) => {\r\n    return(Math.abs(height - pokemonA.height) > Math.abs(height - pokemonB.height) \r\n        && Math.abs(weight - pokemonA.weight) > Math.abs(weight - pokemonB.weight))\r\n  })\r\n}\r\n\r\nconst fetchPokemons = async () =>{\r\n  const result = []\r\n  try{\r\n    const response = await fetch(`${API_URL}pokemon/?limit=200`).catch(error => console.error('Error in fetching pokèmon list: ', error))\r\n    const data = await response.json()\r\n\r\n    data.results.forEach(async (entry) =>{\r\n      const pokemon = await fetch(entry.url)\r\n      const {weight, height, sprites} = await pokemon.json()\r\n    \r\n      result.push({\r\n          name: entry.name,\r\n          weight: weight / 10,\r\n          height: height * 10,\r\n          sprite: sprites.front_default\r\n        })  \r\n    })\r\n  }\r\n  catch(error) {DEBUG && console.error('Error in fetching pokèmon stats: ', error)}\r\n\r\n  return result || null\r\n}\r\n\r\nconst findPokemon = async (height = 0, weight = 0) => {\r\n  const results = []\r\n  const MAX_RESULTS = 2\r\n  const MAX_OFFSET = 20\r\n\r\n  if(height > 0 && weight > 0){\r\n\r\n    let pokemons = await fetchPokemons()\r\n    log('pokemon list at await fetchPokèmons():', pokemons)\r\n\r\n    pokemons.forEach(pokemon => {  //Not working. Only works when stepped through with the debugger... k...\r\n      if(Math.abs(height - pokemon.height) <= MAX_OFFSET && Math.abs(weight - pokemon.weight) <= MAX_OFFSET){ // Didn't want to use ternary for code legibility\r\n      if(results.length <=MAX_RESULTS) {\r\n        results.push(pokemon)\r\n        log('Pushing pokèmon in result list with: ', Math.abs(height - pokemon.height), ' ', Math.abs(weight - pokemon.weight))\r\n        }\r\n      }\r\n    })\r\n    sortByDifference(results, height, weight)\r\n    log('Pokèmons: ', results)\r\n\r\n\r\n    return results[0] //Return the best matching pokemon\r\n  } \r\n  else if(DEBUG) console.error('Height and weight are 0')\r\n  return null\r\n}\r\n\r\n\r\nconst onCheckButtonClick = async(evt) => {\r\n  log(evt)\r\n  const height = TextboxHeight.value\r\n  const weight = TextboxWeight.value\r\n  Title.textContent = '...'\r\n  ImagePokemon.className = 'img-fluid responsive__image invisible'\r\n  Spinner.className = ''\r\n  \r\n  const matchingPokemon = await findPokemon(height, weight)\r\n  log('Matching pokemon: ', matchingPokemon)\r\n}\r\n\r\n\r\nconst onHeightInput = (evt) => log(evt)\r\nconst onWeightInput = (evt) => log(evt)\r\n\r\nconst _init = () => {\r\n  log('Initializing events')\r\n\r\n  ButtonCheck.addEventListener('click', onCheckButtonClick)\r\n  TextboxHeight.addEventListener('keypress', onHeightInput)\r\n  TextboxWeight.addEventListener('keypress', onWeightInput)\r\n}\r\n\r\n\r\nconst App = {\r\n  init: () => {\r\n    _init()\r\n  } \r\n}\n// EXTERNAL MODULE: ./styles/main.sass\nvar main = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./index.js\n\r\n\r\n// eslint-disable-next-line no-unused-vars\r\n\r\n\r\nwindow.addEventListener('load', () => {\r\n  App.init()\r\n})//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzExMTIiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFFBQVE7QUFDNUM7O0FBRUE7QUFDQTtBQUNBLGFBQWEsd0JBQXdCOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGdCQUFnQjs7QUFFaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGlDQUFpQztBQUNqQyw2R0FBNkc7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOzs7QUFHQTtBQUNBLEc7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHTztBQUNQO0FBQ0E7QUFDQSxHO0FBQ0EsQzs7Ozs7QUMvRzZCOztBQUU3QjtBQUNxQzs7QUFFckM7QUFDQSxFQUFFLEdBQUc7QUFDTCxDQUFDIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBERUJVRyA9IHRydWVcclxuY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IERFQlVHICYmIGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLCBhcmdzKVxyXG5cclxuY29uc3QgQnV0dG9uQ2hlY2sgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVjay1idXR0b24nKVxyXG5jb25zdCBUZXh0Ym94SGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHRib3gtaGVpZ2h0JylcclxuY29uc3QgVGV4dGJveFdlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0Ym94LXdlaWdodCcpXHJcbmNvbnN0IFRpdGxlICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDEtdGl0bGUnKVxyXG5jb25zdCBJbWFnZVBva2Vtb24gID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZy1wb2tlbW9uJylcclxuY29uc3QgU3Bpbm5lciAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGlubmVyJylcclxuXHJcbmNvbnN0IEFQSV9VUkwgPSAnaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi8nXHJcblxyXG4vKipcclxuICogQHRvZG8gXHJcbiAqIEZpbmlzaCBmaW5kUG9rZW1vbiBpbXBsZW1lbnRhdGlvbiBieSBzZWxlY3RpbmcgdGhlIGJlc3QgbWF0Y2hcclxuICogRmV0Y2ggc3ByaXRlIGZyb20gc29tZSBhcGkgYW5kIGxvYWQgaW1hZ2UgaW4gSW1hZ2VQb2tlbW9uXHJcbiAqIEltcGxlbWVudCBjYWNoaW5nIG9mIHBva2Vtb24gbGlzdFxyXG4gKiAob3B0aW9uYWwpIGFkZCBhY2N1cmFjeSBzbGlkZWJhclxyXG4gKi9cclxuXHJcblxyXG5cclxuLy8gSnVzdCBzb3J0cyBieSBjbG9zZXN0IG1hdGNoaW5nIGVudHJ5LiBFbnRyeSB3aXRoIHRoZSBzbWFsbGVyIGRpZmZlcmVuY2UgZnJvbSB0aGUgaW5wdXQgYnViYmxlcyB1cFxyXG5jb25zdCBzb3J0QnlEaWZmZXJlbmNlID0gKGFycmF5LCBoZWlnaHQsIHdlaWdodCkgPT4ge1xyXG4gIGFycmF5LnNvcnQoKHBva2Vtb25BLCBwb2tlbW9uQikgPT4ge1xyXG4gICAgcmV0dXJuKE1hdGguYWJzKGhlaWdodCAtIHBva2Vtb25BLmhlaWdodCkgPiBNYXRoLmFicyhoZWlnaHQgLSBwb2tlbW9uQi5oZWlnaHQpIFxyXG4gICAgICAgICYmIE1hdGguYWJzKHdlaWdodCAtIHBva2Vtb25BLndlaWdodCkgPiBNYXRoLmFicyh3ZWlnaHQgLSBwb2tlbW9uQi53ZWlnaHQpKVxyXG4gIH0pXHJcbn1cclxuXHJcbmNvbnN0IGZldGNoUG9rZW1vbnMgPSBhc3luYyAoKSA9PntcclxuICBjb25zdCByZXN1bHQgPSBbXVxyXG4gIHRyeXtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH1wb2tlbW9uLz9saW1pdD0yMDBgKS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBmZXRjaGluZyBwb2vDqG1vbiBsaXN0OiAnLCBlcnJvcikpXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcblxyXG4gICAgZGF0YS5yZXN1bHRzLmZvckVhY2goYXN5bmMgKGVudHJ5KSA9PntcclxuICAgICAgY29uc3QgcG9rZW1vbiA9IGF3YWl0IGZldGNoKGVudHJ5LnVybClcclxuICAgICAgY29uc3Qge3dlaWdodCwgaGVpZ2h0LCBzcHJpdGVzfSA9IGF3YWl0IHBva2Vtb24uanNvbigpXHJcbiAgICBcclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgbmFtZTogZW50cnkubmFtZSxcclxuICAgICAgICAgIHdlaWdodDogd2VpZ2h0IC8gMTAsXHJcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAqIDEwLFxyXG4gICAgICAgICAgc3ByaXRlOiBzcHJpdGVzLmZyb250X2RlZmF1bHRcclxuICAgICAgICB9KSAgXHJcbiAgICB9KVxyXG4gIH1cclxuICBjYXRjaChlcnJvcikge0RFQlVHICYmIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGZldGNoaW5nIHBva8OobW9uIHN0YXRzOiAnLCBlcnJvcil9XHJcblxyXG4gIHJldHVybiByZXN1bHQgfHwgbnVsbFxyXG59XHJcblxyXG5jb25zdCBmaW5kUG9rZW1vbiA9IGFzeW5jIChoZWlnaHQgPSAwLCB3ZWlnaHQgPSAwKSA9PiB7XHJcbiAgY29uc3QgcmVzdWx0cyA9IFtdXHJcbiAgY29uc3QgTUFYX1JFU1VMVFMgPSAyXHJcbiAgY29uc3QgTUFYX09GRlNFVCA9IDIwXHJcblxyXG4gIGlmKGhlaWdodCA+IDAgJiYgd2VpZ2h0ID4gMCl7XHJcblxyXG4gICAgbGV0IHBva2Vtb25zID0gYXdhaXQgZmV0Y2hQb2tlbW9ucygpXHJcbiAgICBsb2coJ3Bva2Vtb24gbGlzdCBhdCBhd2FpdCBmZXRjaFBva8OobW9ucygpOicsIHBva2Vtb25zKVxyXG5cclxuICAgIHBva2Vtb25zLmZvckVhY2gocG9rZW1vbiA9PiB7ICAvL05vdCB3b3JraW5nLiBPbmx5IHdvcmtzIHdoZW4gc3RlcHBlZCB0aHJvdWdoIHdpdGggdGhlIGRlYnVnZ2VyLi4uIGsuLi5cclxuICAgICAgaWYoTWF0aC5hYnMoaGVpZ2h0IC0gcG9rZW1vbi5oZWlnaHQpIDw9IE1BWF9PRkZTRVQgJiYgTWF0aC5hYnMod2VpZ2h0IC0gcG9rZW1vbi53ZWlnaHQpIDw9IE1BWF9PRkZTRVQpeyAvLyBEaWRuJ3Qgd2FudCB0byB1c2UgdGVybmFyeSBmb3IgY29kZSBsZWdpYmlsaXR5XHJcbiAgICAgIGlmKHJlc3VsdHMubGVuZ3RoIDw9TUFYX1JFU1VMVFMpIHtcclxuICAgICAgICByZXN1bHRzLnB1c2gocG9rZW1vbilcclxuICAgICAgICBsb2coJ1B1c2hpbmcgcG9rw6htb24gaW4gcmVzdWx0IGxpc3Qgd2l0aDogJywgTWF0aC5hYnMoaGVpZ2h0IC0gcG9rZW1vbi5oZWlnaHQpLCAnICcsIE1hdGguYWJzKHdlaWdodCAtIHBva2Vtb24ud2VpZ2h0KSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb3J0QnlEaWZmZXJlbmNlKHJlc3VsdHMsIGhlaWdodCwgd2VpZ2h0KVxyXG4gICAgbG9nKCdQb2vDqG1vbnM6ICcsIHJlc3VsdHMpXHJcblxyXG5cclxuICAgIHJldHVybiByZXN1bHRzWzBdIC8vUmV0dXJuIHRoZSBiZXN0IG1hdGNoaW5nIHBva2Vtb25cclxuICB9IFxyXG4gIGVsc2UgaWYoREVCVUcpIGNvbnNvbGUuZXJyb3IoJ0hlaWdodCBhbmQgd2VpZ2h0IGFyZSAwJylcclxuICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5cclxuY29uc3Qgb25DaGVja0J1dHRvbkNsaWNrID0gYXN5bmMoZXZ0KSA9PiB7XHJcbiAgbG9nKGV2dClcclxuICBjb25zdCBoZWlnaHQgPSBUZXh0Ym94SGVpZ2h0LnZhbHVlXHJcbiAgY29uc3Qgd2VpZ2h0ID0gVGV4dGJveFdlaWdodC52YWx1ZVxyXG4gIFRpdGxlLnRleHRDb250ZW50ID0gJy4uLidcclxuICBJbWFnZVBva2Vtb24uY2xhc3NOYW1lID0gJ2ltZy1mbHVpZCByZXNwb25zaXZlX19pbWFnZSBpbnZpc2libGUnXHJcbiAgU3Bpbm5lci5jbGFzc05hbWUgPSAnJ1xyXG4gIFxyXG4gIGNvbnN0IG1hdGNoaW5nUG9rZW1vbiA9IGF3YWl0IGZpbmRQb2tlbW9uKGhlaWdodCwgd2VpZ2h0KVxyXG4gIGxvZygnTWF0Y2hpbmcgcG9rZW1vbjogJywgbWF0Y2hpbmdQb2tlbW9uKVxyXG59XHJcblxyXG5cclxuY29uc3Qgb25IZWlnaHRJbnB1dCA9IChldnQpID0+IGxvZyhldnQpXHJcbmNvbnN0IG9uV2VpZ2h0SW5wdXQgPSAoZXZ0KSA9PiBsb2coZXZ0KVxyXG5cclxuY29uc3QgX2luaXQgPSAoKSA9PiB7XHJcbiAgbG9nKCdJbml0aWFsaXppbmcgZXZlbnRzJylcclxuXHJcbiAgQnV0dG9uQ2hlY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNoZWNrQnV0dG9uQ2xpY2spXHJcbiAgVGV4dGJveEhlaWdodC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIG9uSGVpZ2h0SW5wdXQpXHJcbiAgVGV4dGJveFdlaWdodC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIG9uV2VpZ2h0SW5wdXQpXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgQXBwID0ge1xyXG4gIGluaXQ6ICgpID0+IHtcclxuICAgIF9pbml0KClcclxuICB9IFxyXG59IiwiaW1wb3J0IHtBcHB9IGZyb20gJy4vc3JjL2FwcCdcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5pbXBvcnQgbWFpbiBmcm9tICcuL3N0eWxlcy9tYWluLnNhc3MnXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICBBcHAuaW5pdCgpXHJcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")}]);